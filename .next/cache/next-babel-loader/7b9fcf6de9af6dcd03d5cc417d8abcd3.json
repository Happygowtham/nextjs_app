{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport useSWR from 'swr';\nimport Link from 'next/link';\nimport cookie from 'js-cookie';\n\nfunction Home() {\n  const {\n    data,\n    revalidate\n  } = useSWR('/api/me', async function (args) {\n    const res = await fetch(args);\n    return res.json();\n  });\n  if (!data) return __jsx(\"h1\", null, \"Loading...\");\n  let loggedIn = false;\n\n  if (data.email) {\n    loggedIn = true;\n  }\n\n  return __jsx(\"div\", null, __jsx(Head, null, __jsx(\"title\", null, \"Home page\"), __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"initial-scale=1.0, width=device-width\"\n  })), __jsx(\"h1\", null, \"Simplest login\"), loggedIn && __jsx(React.Fragment, null, __jsx(\"p\", null, \"Welcome \", data.email, \" :)\"), __jsx(\"br\", null), __jsx(\"button\", {\n    onClick: () => {\n      cookie.remove('token');\n      revalidate();\n    }\n  }, \"Logout\")), !loggedIn && __jsx(React.Fragment, null, __jsx(\"h2\", null, \"Register yourself and login to get our updates\"), __jsx(\"div\", {\n    align: \"right\"\n  }, __jsx(Link, {\n    href: \"/login\"\n  }, \"Login\"), \" | \", __jsx(Link, {\n    href: \"/signup\"\n  }, \"Sign Up\"))));\n}\n\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}